{"version":3,"sources":["../../src/pages/post/post.module.ts","../../src/pages/post/post.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PostPage } from './post';\n\n@NgModule({\n  declarations: [\n    PostPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PostPage),\n  ],\n})\nexport class PostPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/post/post.module.ts","import { Component } from '@angular/core';\r\nimport { NavParams, NavController, LoadingController, AlertController, IonicPage } from 'ionic-angular';\r\nimport { HomePage } from '../home/home';\r\nimport { WordpressService } from '../../providers/wordpress-provider';\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/observable/forkJoin';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-post',\r\n  templateUrl: 'post.html'\r\n})\r\nexport class PostPage {\r\n\r\n  post: any;\r\n  user: string;\r\n  comments: Array<any> = new Array<any>();\r\n  categories: Array<any> = new Array<any>();\r\n  morePagesAvailable: boolean = true;\r\n\r\n  constructor(\r\n    public navParams: NavParams,\r\n    public navCtrl: NavController,\r\n    public loadingCtrl: LoadingController,\r\n    public alertCtrl: AlertController,\r\n    public wordpressService: WordpressService,\r\n  ) {\r\n\r\n  }\r\n\r\n  ionViewWillEnter(){\r\n    this.morePagesAvailable = true;\r\n    let loading = this.loadingCtrl.create();\r\n\r\n    loading.present();\r\n\r\n    this.post = this.navParams.get('item');\r\n\r\n    Observable.forkJoin(\r\n      this.getAuthorData(),\r\n      this.getCategories(),\r\n      this.getComments())\r\n      .subscribe(data => {\r\n        this.user = data[0].name;\r\n        this.categories = data[1];\r\n        this.comments = data[2];\r\n        loading.dismiss();\r\n      });\r\n  }\r\n\r\n  getAuthorData(){\r\n    return this.wordpressService.getAuthor(this.post.author);\r\n  }\r\n\r\n  getCategories(){\r\n    return this.wordpressService.getPostCategories(this.post);\r\n  }\r\n\r\n  getComments(){\r\n    return this.wordpressService.getComments(this.post.id);\r\n  }\r\n\r\n  loadMoreComments(infiniteScroll) {\r\n    let page = (this.comments.length/10) + 1;\r\n    this.wordpressService.getComments(this.post.id, page)\r\n    .subscribe(data => {\r\n      for(let item of data){\r\n        this.comments.push(item);\r\n      }\r\n      infiniteScroll.complete();\r\n    }, err => {\r\n      console.log(err);\r\n      this.morePagesAvailable = false;\r\n    })\r\n  }\r\n/*\r\n  goToCategoryPosts(categoryId, categoryTitle){\r\n    console.log(categoryId)\r\n    this.navCtrl.push(\"DebunkPage\", {\r\n      id: categoryId,\r\n      title: categoryTitle\r\n    })\r\n  }*/\r\n\r\n  //Comment section needs to be sorted \r\n  //https://github.com/ionicthemes/ionic3-wordpress-integration/blob/master/src/pages/post/post.ts\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/post/post.ts"],"sourceRoot":""}