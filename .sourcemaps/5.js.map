{"version":3,"sources":["../../src/pages/post/post.module.ts","../../src/pages/post/post.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PostPage } from './post';\n\n@NgModule({\n  declarations: [\n    PostPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PostPage),\n  ],\n})\nexport class PostPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/post/post.module.ts","import { Component } from '@angular/core';\nimport { NavParams, NavController, LoadingController, AlertController, IonicPage } from 'ionic-angular';\nimport { HomePage } from '../home/home';\nimport { WordpressService } from '../../providers/wordpress-provider';\nimport { Observable } from \"rxjs/Observable\";\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/observable/forkJoin';\n\n@IonicPage()\n@Component({\n  selector: 'page-post',\n  templateUrl: 'post.html'\n})\nexport class PostPage {\n\n  post: any;\n  user: string;\n  comments: Array<any> = new Array<any>();\n  categories: Array<any> = new Array<any>();\n  morePagesAvailable: boolean = true;\n\n  constructor(\n    public navParams: NavParams,\n    public navCtrl: NavController,\n    public loadingCtrl: LoadingController,\n    public alertCtrl: AlertController,\n    public wordpressService: WordpressService,\n  ) {\n\n  }\n\n  ionViewWillEnter(){\n    this.morePagesAvailable = true;\n    let loading = this.loadingCtrl.create();\n\n    loading.present();\n\n    this.post = this.navParams.get('item');\n\n    Observable.forkJoin(\n      this.getAuthorData(),\n      this.getCategories(),\n      this.getComments())\n      .subscribe(data => {\n        this.user = data[0].name;\n        this.categories = data[1];\n        this.comments = data[2];\n        loading.dismiss();\n      });\n  }\n\n  getAuthorData(){\n    return this.wordpressService.getAuthor(this.post.author);\n  }\n\n  getCategories(){\n    return this.wordpressService.getPostCategories(this.post);\n  }\n\n  getComments(){\n    return this.wordpressService.getComments(this.post.id);\n  }\n\n  loadMoreComments(infiniteScroll) {\n    let page = (this.comments.length/10) + 1;\n    this.wordpressService.getComments(this.post.id, page)\n    .subscribe(data => {\n      for(let item of data){\n        this.comments.push(item);\n      }\n      infiniteScroll.complete();\n    }, err => {\n      console.log(err);\n      this.morePagesAvailable = false;\n    })\n  }\n/*\n  goToCategoryPosts(categoryId, categoryTitle){\n    console.log(categoryId)\n    this.navCtrl.push(\"DebunkPage\", {\n      id: categoryId,\n      title: categoryTitle\n    })\n  }*/\n\n  //Comment section needs to be sorted \n  //https://github.com/ionicthemes/ionic3-wordpress-integration/blob/master/src/pages/post/post.ts\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/post/post.ts"],"sourceRoot":""}