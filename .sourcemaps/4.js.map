{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { HomePage } from './home';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    HomePage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(HomePage),\r\n  ],\r\n})\r\nexport class HomePageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { User } from './../../models/user';\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\nimport { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, AlertController, LoadingController, ToastController } from 'ionic-angular';\r\nimport { AuthData } from '../../providers/auth-data';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { AngularFireDatabase, FirebaseObjectObservable } from 'angularfire2/database-deprecated';\r\n\r\n\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html',\r\n})\r\nexport class HomePage {\r\n\r\n  user = {} as User;\r\n\r\n  email: any;\r\n  profilePicture: any = \"https://www.gravatar.com/avatar/\"\r\n  profileArray : any=[]; \r\n  profile: FirebaseObjectObservable<any[]>;\r\n  uid:any;\r\n\r\n  public updateForm:any;\r\n  \r\n  constructor(public navCtrl: NavController, public authData: AuthData,public alertCtrl: AlertController,public loadingCtrl: LoadingController,private toastCtrl: ToastController,public afAuth: AngularFireAuth, public afDb: AngularFireDatabase, private fb: FormBuilder) {\r\n\r\n  }  \r\n\r\n  ionViewWillLoad(){\r\n    this.afAuth.authState.subscribe(userAuth => {\r\n   \r\n      if(userAuth) {\r\n        console.log(\"auth true!\")\r\n        this.uid = userAuth.uid;     \r\n        this.email = userAuth.email;\r\n        this.profilePicture = \"https://www.gravatar.com/avatar/\" +(this.email.toLowerCase(), 'hex');\r\n\r\n        let loadingPopup = this.loadingCtrl.create({\r\n          spinner: 'crescent', \r\n          content: '',\r\n          duration: 15000\r\n        });\r\n        loadingPopup.present();\r\n\r\n        this.profile = this.afDb.object('/userProfile/'+this.uid );\r\n        this.profile.subscribe(profile => {\r\n            this.profileArray = profile;\r\n            loadingPopup.dismiss();\r\n        })\r\n\r\n      } else {\r\n        console.log(\"auth false\");\r\n        this.navCtrl.setRoot('StartPage');\r\n      }\r\n\r\n    });\r\n}\r\n\r\ngoToProfile(){\r\n  this.navCtrl.setRoot(\"ProfilePage\")\r\n}\r\n\r\n  logout(){\r\n    this.authData.logoutUser()\r\n    .then( authData => {\r\n      console.log(\"Logged out\");\r\n      // toast message\r\n      this.presentToast('bottom','You are now logged out');\r\n      this.navCtrl.setRoot(\"StartPage\");\r\n    }, error => {\r\n      var errorMessage: string = error.message;\r\n      console.log(errorMessage);\r\n      //this.presentAlert(errorMessage);\r\n    });\r\n}\r\npresentToast(position: string,message: string) {\r\n  let toast = this.toastCtrl.create({\r\n    message: message,\r\n    position: position,\r\n    duration: 3000\r\n  });\r\n  toast.present();\r\n}\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad HomePage');\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}